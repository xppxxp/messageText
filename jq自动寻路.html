<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">

		*{margin: 0;padding: 0}
		ul{width: 300px;height: 300px;border: 1px solid black;position: relative;margin: 30px auto}
		li{height: 100px;width: 100px;float: left;list-style: none;}
		img{width: 100px;height: 100px;vertical-align: top}

	</style>
	<script type="text/javascript" src="jqury.js"></script>
	<script type="text/javascript">

	$(function(){

		var posArr=[];
		var blankIndex=8;
		var tmp=-1;
		var mapping=[
		[1,3],
		[0,2,4],
		[1,5],
		[0,4,6],
		[1,3,5,7],
		[2,4,8],
		[3,7],
		[4,6,8],
		[5,7]
		];

		$('li').each(function(i,elem){
			posArr.push([$(elem).position().left,$(elem).position().top]);
		});

		$('li').each(function(i,elem){
			$(elem).css('position','absolute');
			$(elem).css('left',posArr[i][0]);
			$(elem).css('top',posArr[i][1]);
			$(elem).attr('_index',i);
		});
		setInterval(function(){
			move();
		},300)
		move();

		function move(){

			var nowArr=[];
			mapping[blankIndex]
			for (var i = 0; i < mapping[blankIndex].length; i++) {
				if (mapping[blankIndex][i]!=tmp) {
					nowArr.push(mapping[blankIndex][i])
				};
			};
			var nowIndex=nowArr[Math.floor(Math.random()*nowArr.length)];
			var targetL=blankIndex%3*100;
			var targetT=Math.floor(blankIndex/3)*100;


			$('li').each(function(i,elem){
				if ($(elem).attr('_index')==nowIndex) {
					$(this).animate({left:targetL,top:targetT},200,function(){

				tmp=blankIndex;
				blankIndex=nowIndex;
				$(this).attr('_index',tmp);

			});
				};
			})

		}

	})

	</script>
</head>
<body>
	<ul>
		<li><img src="img/1.jpg"></li>
		<li><img src="img/2.jpg"></li>
		<li><img src="img/3.jpg"></li>
		<li><img src="img/4.jpg"></li>
		<li><img src="img/5.jpg"></li>
		<li><img src="img/6.jpg"></li>
		<li><img src="img/1.jpg"></li>
		<li><img src="img/2.jpg"></li>
	</ul>
</body>
</html>